<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic-Tac-Toe</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: radial-gradient(circle at center, #000000, #000000);
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            overflow: hidden;
            text-align: center;
        }

        h1 {
            margin-bottom: 20px;
            color: #0d47a1;
            font-size: 2.5em;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        }

        .board {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0px 20px 55px rgb(255, 0, 0);
            position: relative;
            max-width: 100%;
            width: 55%;
            background: #ffffff; /* Added background color for visibility */
        }

        .mode-selector, .difficulty-selector {
            margin-bottom: 20px;
            font-size: 1.2em;
            color: #0d47a1;
        }

        .mode-selector button, .difficulty-selector button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 10px;
            background: #42a5f5;
            color: white;
            transition: background 0.3s ease, transform 0.3s ease;
            margin: 5px;
        }

        .mode-selector button:hover, .difficulty-selector button:hover {
            background: #1e88e5;
            transform: scale(1.05);
        }

        #message {
            font-size: 1.5em;
            margin-bottom: 20px;
            color: #0d47a1;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2);
        }

        .scoreboard {
            margin-bottom: 20px;
            font-size: 1.2em;
            color: #0d47a1;
        }

        .row {
            display: flex;
            gap: 10px;
        }

        .box {
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 60px;
            width: 100px;
            height: 100px;
            background: #ffffff;
            color: #0d47a1;
            border: 3px solid #0d47a1;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.3s ease, background 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            position: relative;
        }

        .box:hover {
            transform: scale(1.1);
            background: #bbdefb;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        .box.X {
            color: #d32f2f;
            animation: bounce 0.3s;
        }

        .box.O {
            color: #1976d2;
            animation: bounce 0.3s;
        }

        @keyframes bounce {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.2);
            }
        }

        .highlight {
            background: #ffffff;
        }

        .animate-box {
            animation: highlight 2s;
        }

        @keyframes highlight {
            from {
                background: #e3f2fd;
            }
            to {
                background: #dcedc8;
            }
        }

        button.reset-btn {
            padding: 12px 25px;
            font-size: 18px;
            cursor: pointer;
            border: none;
            border-radius: 10px;
            background: #ff5722;
            color: white;
            transition: background 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        button.reset-btn:hover {
            background: #e64a19;
            transform: scale(1.05);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.3);
        }

        button.reset-btn:before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.3), transparent);
            transition: opacity 0.3s ease;
            opacity: 0;
            pointer-events: none;
        }

        button.reset-btn:hover:before {
            opacity: 1;
        }

        
body {
    font-family: 'Arial', sans-serif;
    background: linear-gradient(90deg, #020024 0%, #090979 35%, #00d4ff 100%); 
    
    background-size: 200% 200%;
   
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 100vh;
    overflow: hidden;
    text-align: center;
}

@keyframes gradientAnimation {
    50% { background-position: 50% 60%; }
    60% { background-position: 100% 60%; }
    100% { background-position: 50% 60%; }
}




.particle {
    position: absolute;
    width: 10px;
    height: 10px;
    background: rgba(11, 221, 0, 0.5);
    border-radius: 50%;
    animation: particleMovement 10s linear infinite;
}

.particle:nth-child(2) { animation-delay: 3s; }
.particle:nth-child(3) { animation-delay: 3s; }
.particle:nth-child(4) { animation-delay: 3s; }

/* Light pulse effect */
@keyframes lightPulse {
    50% {
        box-shadow: 0 0 75PX rgba(255, 0, 0, 0.887);
    }
    60% {
        box-shadow: 0 0 100px rgba(255, 0, 225, 0.8);
    }
    100% {
        box-shadow: 0 0 100px hsl(270, 100%, 49%);
    }
}

.board {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 15px;
    border-radius: 15px;
    padding: 20px;
    box-shadow: 0px 20px 55px rgb(255, 0, 0);
    max-width: 100%;
    width: 55%;
    background: linear-gradient(90deg, rgba(255, 100, 100, 1) 0%, rgba(100, 200, 255, 1) 100%);; /* Added background color for visibility */
    animation: lightPulse 2s ease infinite;
}

    </style>
</head>
<body>
    <div class="board">
        <h1>Tic-Tac-Toe</h1>
        <div class="mode-selector">
            <button id="pvp-button">Player vs Player</button>
            <button id="pvc-button">Player vs Computer</button>
        </div>
        <div class="difficulty-selector" id="difficulty-selector">
            <!-- Difficulty levels are shown only when the mode is set to 'pvc' -->
        </div>
        <div id="message">Player X's turn</div>
        <div class="scoreboard">
            <span id="scoreX">X: 0</span> | <span id="scoreO">O: 0</span> | <span id="draws">Draws: 0</span>
        </div>
        <div class="row">
            <div id="0" class="box"></div>
            <div id="1" class="box"></div>
            <div id="2" class="box"></div>
        </div>
        <div class="row">
            <div id="3" class="box"></div>
            <div id="4" class="box"></div>
            <div id="5" class="box"></div>
        </div>
        <div class="row">
            <div id="6" class="box"></div>
            <div id="7" class="box"></div>
            <div id="8" class="box"></div>
        </div>
        <button class="reset-btn" onclick="reset()">RESET</button>
    </div>

    <script>
        let turn = "X";
        let gameOn = true;
        let winner = "";
        let gameMode = 'pvp'; // Default to Player vs Player mode
        let difficulty = 'easy'; // Default difficulty
        let btns = document.querySelectorAll(".box");
        let arr = new Array(9).fill(null);
        let scoreX = 0;
        let scoreO = 0;
        let draws = 0;

        function setGameMode(mode) {
            gameMode = mode;
            if (gameMode === 'pvc') {
                document.getElementById('difficulty-selector').innerHTML = `
                    <button onclick="setDifficulty('easy')">Easy</button>
                    <button onclick="setDifficulty('medium')">Medium</button>
                    <button onclick="setDifficulty('hard')">Hard</button>
                `;
                // Initiate computer's first move if PvC mode is selected
                turn = 'O'; // Computer starts first
            } else {
                document.getElementById('difficulty-selector').innerHTML = '';
            }
            reset();
        }

        function setDifficulty(level) {
            difficulty = level;
            reset();
        }

        function playTurn(a) {
            if (gameOn && arr[a.id] === null) {
                a.innerText = turn;
                a.classList.add(turn); // Add class for color styling
                a.classList.add('animate-box'); // Add animation class
                arr[a.id] = turn;

                winner = checkWinner();
                if (winner) {
                    document.getElementById("message").innerText = `${winner} is the winner!`;
                    updateScore(winner);
                    gameOn = false;
                    highlightWinningCombination(winner);
                } else if (arr.every(cell => cell !== null)) {
                    document.getElementById("message").innerText = "It's a draw!";
                    draws++;
                    document.getElementById("draws").innerText = `Draws: ${draws}`;
                    gameOn = false;
                } else {
                    turn = turn === "X" ? "O" : "X";
                    document.getElementById("message").innerText = `Player ${turn}'s turn`;

                    if (gameMode === 'pvc' && turn === 'O') {
                        setTimeout(computerMove, 500); // Delay computer move slightly
                    }
                }
            }
        }

        function computerMove() {
            if (gameOn) {
                let emptyBoxes = arr.map((value, index) => value === null ? index : null).filter(value => value !== null);
                let move = emptyBoxes[Math.floor(Math.random() * emptyBoxes.length)];
                document.getElementById(move).innerText = 'O';
                document.getElementById(move).classList.add('O');
                document.getElementById(move).classList.add('animate-box');
                arr[move] = 'O';

                winner = checkWinner();
                if (winner) {
                    document.getElementById("message").innerText = `${winner} is the winner!`;
                    updateScore(winner);
                    gameOn = false;
                    highlightWinningCombination(winner);
                } else if (arr.every(cell => cell !== null)) {
                    document.getElementById("message").innerText = "It's a draw!";
                    draws++;
                    document.getElementById("draws").innerText = `Draws: ${draws}`;
                    gameOn = false;
                } else {
                    turn = "X";
                    document.getElementById("message").innerText = `Player ${turn}'s turn`;
                }
            }
        }

        function checkWinner() {
            const winningCombos = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8],
                [0, 3, 6], [1, 4, 7], [2, 5, 8],
                [0, 4, 8], [2, 4, 6]
            ];

            for (let combo of winningCombos) {
                if (arr[combo[0]] && arr[combo[0]] === arr[combo[1]] && arr[combo[1]] === arr[combo[2]]) {
                    return arr[combo[0]];
                }
            }

            return null;
        }

        function highlightWinningCombination(winner) {
            const winningCombos = [
                [0, 1, 2], [3, 4, 5], [6, 7, 8],
                [0, 3, 6], [1, 4, 7], [2, 5, 8],
                [0, 4, 8], [2, 4, 6]
            ];

            for (let combo of winningCombos) {
                if (arr[combo[0]] === winner && arr[combo[1]] === winner && arr[combo[2]] === winner) {
                    combo.forEach(index => {
                        let winningBox = document.getElementById(index);
                        winningBox.classList.add('highlight');
                        winningBox.classList.add('animate-box');
                    });
                    break;
                }
            }
        }

        function updateScore(winner) {
            if (winner === "X") {
                scoreX++;
                document.getElementById("scoreX").innerText = `X: ${scoreX}`;
            } else if (winner === "O") {
                scoreO++;
                document.getElementById("scoreO").innerText = `O: ${scoreO}`;
            }
        }

        function reset() {
            arr.fill(null);
            turn = gameMode === 'pvc' ? 'O' : 'X'; // Computer starts if PvC mode
            gameOn = true;
            btns.forEach(btn => {
                btn.innerText = "";
                btn.classList.remove("X", "O", "highlight", "animate-box");
                btn.style.background = '#e3f2fd'; // Reset background
            });
            document.getElementById("message").innerText = `Player ${turn}'s turn`;

            if (gameMode === 'pvc' && turn === 'O') {
                computerMove(); // Computer makes the first move
            }
        }

        // Event listeners for game mode buttons
        document.getElementById('pvp-button').addEventListener('click', () => setGameMode('pvp'));
        document.getElementById('pvc-button').addEventListener('click', () => setGameMode('pvc'));

        // Event listeners for difficulty buttons (if PvC mode is selected)
        document.getElementById('difficulty-selector').addEventListener('click', e => {
            if (e.target.tagName === 'BUTTON') {
                setDifficulty(e.target.innerText.toLowerCase());
            }
        });

        // Event listeners for each box
        btns.forEach(btn => {
            btn.addEventListener('click', () => playTurn(btn));
        });

        // Initialize game
        reset();
    </script>
</body>
</html>
